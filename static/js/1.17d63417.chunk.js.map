{"version":3,"sources":["images/logo192.png","utils/LocationMapUtils.js","stores/AppReducer.js","stores/AppStore.js","utils/AppLogicUtils.js","controllers/AppLogicController.js","db/AppDatabase.js","controllers/AppDataFetchController.js"],"names":["LocationMapUtils","x","y","jsonMap","areaId","editableObject","mapObj","JSON","parse","Object","keys","forEach","key","parseInt","xyPos","objectMap","length","areaIdStr","toString","push","stringify","position","newValue","AppReducer","state","action","type","initialCheckDone","databaseLoadError","globalLoading","storyLoadError","storyErrorMessage","payload","page","storyLoaded","storyRunnable","storyVerifyingRunnable","activeConditionDone","activeCondition","initialState","AppContext","createContext","AppStore","children","useReducer","dispatch","Provider","value","AppLogicUtils","name","default","default_table","default_tids","edit_mode","removable","description","is_pc","color","getEntitiesDefaultColors","Math","floor","random","dialogs","characters","dialog","character_id","join","defaultColors","customEntColors","includes","find","def_color","singular","endsWith","slice","console","log","custom_def","singular_name","AppLogicController","testDatabase","catch","err","error","stack","db","stories","where","equals","first","undefined","data","transaction","game_state_props","default_entity_colors","a","add","title","version","bulkAdd","getNewStoryDefaultGameStateProps","getNewStoryDefaultCharacters","getNewStoryDefaultEntityColors","then","result","Promise","reject","defaultValue","defaultTable","defaultTids","editMode","update","id","delete","locations","map","areas","location_id","area","location","newJsonMap","removeAreaFromMap","updateLocationMap","isPC","custom_entity_defs","getCustomEntityRandomColor","custom_entities","custom_entity_def_id","chapters","order","affectedChapter","oldOrder","newBaseOrder","affectedChapters","orderBy","each","chapter","affected","acts","chapter_id","affectedAct","affectedActs","toArray","orderedActs","sort","b","act","sequenced_actions","actId","textValue","characterId","act_id","affectedSequencedAction","affectedSequencedActions","sequencedActions","orderedSequencedActions","game_actions","requiredCondition","allowRepeat","conversations","conversation_dialogs","conversationId","rebuildConversationCharacterIds","conversation_id","affectedConversationDialog","affectedConversationDialogs","conversationDialogs","orderedConversationDialogs","conversationDialogsAfterRemove","play_game_state_props","customEntityColors","clear","gsps","playProps","gsp","getPropRelatedColor","window","reload","Dexie","stores","open","AppDataFetchController","propNames","liveQuery","singleProp","anyOf","tableName","displayName","entityDef","locationId","count","chapterId","filters","character","regex","RegExp","filter","conversation","test"],"mappings":"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","file":"static/js/1.17d63417.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","\nclass LocationMapUtils {\n\n  static getLocationMapDimension() {\n    return {x: 20, y: 20};\n  }\n\n  static convertJsonMapToEditableObject(jsonMap) {\n    if (typeof jsonMap === 'string') {\n      let editableObject = {};\n      let areaId;\n      const mapObj = JSON.parse(jsonMap);\n      Object.keys(mapObj).forEach(key => {\n        areaId = parseInt(key);\n        mapObj[key].forEach(xyPos => {\n          editableObject[xyPos] = areaId;\n        });\n      });\n      return editableObject;\n    }\n    return {};\n  }\n\n  static convertEditableObjectToJsonMap(objectMap) {\n    if (Object.keys(objectMap).length > 0) {\n      let jsonMap = {};\n      let areaIdStr;\n      Object.keys(objectMap).forEach(key => {\n        areaIdStr = objectMap[key].toString();\n        if (areaIdStr in jsonMap) {\n          jsonMap[areaIdStr].push(key);\n        } else {\n          jsonMap[areaIdStr] = [key];\n        }\n      });\n      return JSON.stringify(jsonMap);\n    }\n    return null;\n  }\n\n  static setMapTile(objectMap, position, newValue) {\n    if (newValue === null) {\n      delete objectMap[position];\n    } else {\n      objectMap[position] = newValue;\n    }\n    return objectMap;\n  }\n\n  static removeAreaFromMap(jsonMap, areaId) {\n    if (typeof jsonMap === 'string') {\n      const mapObj = JSON.parse(jsonMap);\n      delete mapObj[areaId];\n      return JSON.stringify(mapObj);\n    }\n    return null;\n  }\n\n}\n\nexport default LocationMapUtils;","const AppReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_APP_INITIAL_CHECK_DONE':\n      return {\n        ...state,\n        initialCheckDone: true,\n        };\n    case 'SET_APP_DATABASE_LOAD_ERROR':\n      return {\n        ...state,\n        databaseLoadError: true,\n        initialCheckDone: true,\n      };\n    case 'SET_APP_STORY_LOAD_ERROR':\n      return {\n        ...state,\n        globalLoading: false,\n        storyLoadError: true,\n        storyErrorMessage: action.payload || null,\n      };\n    case 'SET_APP_PAGE':\n      return {\n        ...state,\n        page: action.payload,\n      };\n    case 'SET_APP_GLOBAL_LOADING':\n      return {\n        ...state,\n        globalLoading: action.payload || false,\n      };\n    case 'SET_STORY_LOADED':\n      return {\n        ...state,\n        globalLoading: false,\n        storyLoaded: action.payload,\n        storyRunnable: false,\n        page: (action.payload ? 'CONFIG' : 'EMPTY'),\n      };\n    case 'SET_STORY_VERIFYING_RUNNABLE':\n      return {\n        ...state,\n        storyVerifyingRunnable: true,\n        storyRunnable: false,\n      };\n    case 'SET_STORY_NOT_RUNNABLE':\n      return {\n        ...state,\n        storyVerifyingRunnable: false,\n        storyRunnable: false,\n      };\n    case 'SET_STORY_RUNNABLE':\n      return {\n        ...state,\n        storyVerifyingRunnable: false,\n        storyRunnable: true,\n      };\n    case 'UNSET_ACTIVE_CONDITION':\n      return {\n        ...state,\n        activeConditionDone: false,\n        activeCondition: null,\n      };\n    case 'SET_ACTIVE_CONDITION':\n      return {\n        ...state,\n        activeConditionDone: false,\n        activeCondition: action.payload,\n      };\n    case 'SET_ACTIVE_CONDITION_COMPLETED':\n      return {\n        ...state,\n        activeConditionDone: true,\n        activeCondition: action.payload,\n      };\n\n    // case 'ADD_POST':\n    //     return {\n    //         ...state,\n    //         posts: state.posts.concat(action.payload)\n    //     };\n    // case 'REMOVE_POST':\n    //     return {\n    //         ...state,\n    //         posts: state.posts.filter(post => post.id !== action.payload)\n    //     };\n    // case 'SET_ERROR':\n    //     return {\n    //         ...state,\n    //         error: action.payload\n    //     };\n    default:\n        return state;\n  }\n};\n\nexport default AppReducer;\n","import React, {createContext, useReducer} from \"react\";\nimport AppReducer from './AppReducer'\n\nconst initialState = {\n  initialCheckDone: false,\n  globalLoading: false,\n  databaseLoadError: false,\n  storyLoadError: false,\n  storyErrorMessage: null,\n  storyLoaded: false,\n  storyVerifyingRunnable: false,\n  storyRunnable: false,\n  page: 'EMPTY',\n  //\n  activeConditionDone: false,\n  activeCondition: null,\n};\n\nconst AppStore = ({children}) => {\n    const [state, dispatch] = useReducer(AppReducer, initialState);\n    return (\n        <AppContext.Provider value={[state, dispatch]}>\n            {children}\n        </AppContext.Provider>\n    )\n};\n\nexport const AppContext = createContext(initialState);\nexport default AppStore;","\nclass AppLogicUtils {\n  static getNewStoryDefaultGameStateProps() {\n    return [\n      {name: 'currentChapter', type: 'int', default: 1, default_table: null, default_tids: null, edit_mode: 'none', removable: false},\n      {name: 'currentAct', type: 'int', default: 1, default_table: null, default_tids: null, edit_mode: 'none', removable: false},\n      {name: 'currentActSequence', type: 'int', default: 0, default_table: null, default_tids: null, edit_mode: 'none', removable: false},\n      {name: 'currentLocation', type: 'location', default: null, default_table: 'locations', default_tids: null, edit_mode: 'default', removable: false},\n      {name: 'currentArea', type: 'area', default: null, default_table: 'areas', default_tids: null, edit_mode: 'default', removable: false},\n    ];\n  }\n\n  static getNewStoryDefaultCharacters() {\n    return [\n      {name: '[Playable character]', description: '[Add description]', is_pc: true, color: '#0000ff'},\n    ];\n  }\n\n  static getNewStoryDefaultEntityColors() {\n    return [\n      {name: 'locations', color: AppLogicUtils.getEntitiesDefaultColors('locations')},\n      {name: 'areas', color: AppLogicUtils.getEntitiesDefaultColors('areas')},\n      {name: 'characters', color: AppLogicUtils.getEntitiesDefaultColors('characters')},\n    ];\n  }\n\n  static getEntitiesDefaultColors(name = 'locations') {\n    switch(name) {\n      case 'characters':\n        return '#1890ff';\n      case 'areas':\n        return '#a0d911';\n      case 'locations':\n      default:\n        return '#3f6600';\n    }\n  }\n\n  static getCustomEntityRandomColor() {\n    const defaultColorList = ['#ffa940', '#73d13d', '#10239e', '#36cfc9', '#9e1068', '#9254de', '#85a5ff', '#fadb14', '#ffa940', '#391085'];\n    return defaultColorList[Math.floor(Math.random() * 10)];\n  }\n\n  static rebuildConversationCharacterIds(dialogs) {\n    let characters = {};\n    dialogs.forEach(dialog => {\n      characters[dialog.character_id] = true;\n    });\n    if (Object.keys(characters).length > 0) {\n      return ',' + Object.keys(characters).join(',') + ',';\n    } else {\n      return '';\n    }\n  }\n\n  static getPropRelatedColor(name, type, defaultColors, customEntColors) {\n    if (['currentChapter', 'currentAct', 'currentActSequence'].includes(name)) {\n      return '#00b6ff';\n    }\n    switch(type) {\n      case 'int':\n      case 'intarr':\n      case 'boolean':\n      case 'booleanarr':\n      case 'string':\n      case 'stringarr':\n        return '#fa541c';\n      case 'location':\n      case 'locationarr':\n        return defaultColors.find(def_color => def_color.name === 'locations').color;\n      case 'area':\n      case 'areaarr':\n        return defaultColors.find(def_color => def_color.name === 'areas').color;\n      case 'character':\n      case 'characterarr':\n        return defaultColors.find(def_color => def_color.name === 'characters').color;\n      default: //custom entity or entity arr\n        let singular;\n        if(type.endsWith('arr')) {\n          singular = type.slice(0,-3);\n        }else{\n          singular = type;\n        }\n        console.log('||--singular', singular);\n        return customEntColors.find(custom_def => custom_def.singular_name === singular).color;\n    }\n    return '#fa541c';\n  }\n\n}\n\nexport default AppLogicUtils;","import db, { testDatabase } from '../db/AppDatabase';\nimport AppLogicUtils from '../utils/AppLogicUtils';\nimport LocationMapUtils from '../utils/LocationMapUtils';\n\n//Controls modifications in app state and database\nclass AppLogicController {\n\n  static checkDatabaseOk(dispatch) {\n    testDatabase().catch((err) => {\n      console.error('Failed to open db: ' + (err.stack || err));\n      dispatch({type: 'SET_APP_DATABASE_LOAD_ERROR'});\n    });\n  }\n\n  static async checkStoryLoaded(dispatch) {\n    const story = await db.stories.where('id').equals(1).first();\n    if (story !== undefined) {\n      dispatch({type: 'SET_STORY_LOADED', payload: true});\n    }\n    dispatch({type: 'SET_APP_INITIAL_CHECK_DONE'});\n  }\n\n  //-- Story --//\n  static createNewStory(dispatch, data) {\n    return db.transaction('rw', db.stories, db.game_state_props, db.characters, db.default_entity_colors, async () => {\n      await db.stories.add({'title': data.title, 'version': data.version});\n      await db.game_state_props.bulkAdd( AppLogicUtils.getNewStoryDefaultGameStateProps() );\n      await db.characters.bulkAdd( AppLogicUtils.getNewStoryDefaultCharacters() );\n      await db.default_entity_colors.bulkAdd( AppLogicUtils.getNewStoryDefaultEntityColors() );\n    }).then(result => {\n      dispatch({type: 'SET_STORY_LOADED', payload: true});\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n    // db.stories.add({'title': data.title, 'version': data.version}).then(() => {\n    //   dispatch({type: 'SET_STORY_LOADED', payload: true});\n    // });\n  }\n\n  //-- GameStateProps --//\n  static createNewGameStateProp(dispatch, data) {\n    return db.game_state_props.add({'name': data.name, 'type': data.type, 'default': data.defaultValue, 'default_table': data.defaultTable || null, 'default_tids': data.defaultTids || null, 'edit_mode': data.editMode, 'removable': data.removable}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateGameStateProp(dispatch, key, data) {\n    return db.game_state_props.update(key, {'name': data.name, 'type': data.type, 'default': data.defaultValue, 'edit_mode': data.editMode, 'removable': data.removable}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteGameStateProp(dispatch, id) {\n    return db.game_state_props.delete(id).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //-- Location & Areas --//\n  static createNewLocation(dispatch, data) {\n    return db.locations.add({'name': data.name, 'description': data.description}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateLocation(dispatch, key, data) {\n    return db.locations.update(key, {'name': data.name, 'description': data.description}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateLocationMap(dispatch, key, data) {\n    return db.locations.update(key, {'map': data.map}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteLocation(dispatch, id) {\n    return db.transaction('rw', db.locations, db.areas, async () => {\n      await db.areas.where('location_id').equals(id).delete();\n      await db.locations.delete(id);\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static createNewArea(dispatch, data) {\n    return db.areas.add({'location_id': data.location_id, 'name': data.name, 'description': data.description, 'color': data.color}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateArea(dispatch, key, data) {\n    return db.areas.update(key, {'name': data.name, 'description': data.description, 'color': data.color}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteArea(dispatch, id) {\n    return db.transaction('rw', db.locations, db.areas, async () => {\n      const area = await db.areas.where({id: id}).first();\n      const location = await db.locations.where({id: area.location_id}).first();\n      const newJsonMap = LocationMapUtils.removeAreaFromMap(location.map, id);\n      const data = {map: newJsonMap};\n      await AppLogicController.updateLocationMap(dispatch, location.id, data);\n      await db.areas.delete(id);\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n\n    \n    //change to transaction\n      //get location\n      //change location map\n      //save location map\n      //remove \n\n\n\n    // return db.areas.delete(id).then(() => {\n    //   //\n    // }).catch(error => {\n    //   console.log('||--FAIL', error);\n    //   //return reject to allow catch chain\n    //   return Promise.reject(error);\n    // });\n  }\n\n  //-- Character --//\n  static createNewCharacter(dispatch, data) {\n    return db.characters.add({'name': data.name, 'description': data.description, 'is_pc': data.isPC, 'color': data.color}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateCharacter(dispatch, key, data) {\n    return db.characters.update(key, {'name': data.name, 'description': data.description, 'is_pc': data.isPC, 'color': data.color}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteCharacter(dispatch, id) {\n    return db.characters.delete(id).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //-- Custom Entities --//\n  static createNewCustomEntityDef(dispatch, data) {\n    return db.custom_entity_defs.add({'name': data.name, 'key': data.key, 'singular_name': data.singular, 'color': AppLogicUtils.getCustomEntityRandomColor()}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteCustomEntityDef(dispatch, id) {\n    return db.transaction('rw', db.custom_entity_defs, db.custom_entities, async () => {\n      await db.custom_entities.where('custom_entity_def_id').equals(id).delete();\n      await db.custom_entity_defs.delete(id);\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static createNewCustomEntity(dispatch, data) {\n    return db.custom_entities.add({'custom_entity_def_id': data.custom_entity_def_id, 'name': data.name, 'description': data.description}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateCustomEntity(dispatch, key, data) {\n    return db.custom_entities.update(key, {'name': data.name, 'description': data.description}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteCustomEntity(dispatch, id) {\n    return db.custom_entities.delete(id).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //-- Colors --//\n  static updateDefaultEntityColor(dispatch, key, data) {\n    return db.default_entity_colors.update(key, {'color': data.color}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateCustomEntityDefColor(dispatch, key, data) {\n    return db.custom_entity_defs.update(key, {'color': data.color}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //-- Chapters --//\n  static createNewChapter(dispatch, data) {\n    return db.chapters.add({'name': data.name, 'description': data.description, 'order': data.order}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateChapter(dispatch, key, data) {\n    //do not accept order update\n    return db.chapters.update(key, {'name': data.name, 'description': data.description}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateChapterOrder(dispatch, key, data) {\n    return db.transaction('rw', db.chapters, async () => {\n      const affectedChapter = await db.chapters.where('order').equals(data.order).first();\n      await db.chapters.update(key, {'order': data.order});\n      await db.chapters.update(affectedChapter.id, {'order': data.oldOrder});\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteChapter(dispatch, id) {\n    return db.transaction('rw', db.chapters, async () => {\n      let newBaseOrder = null;\n      let affectedChapters = [];\n      const chapters = db.chapters.orderBy('order');\n      await chapters.each(chapter => {\n        if(newBaseOrder !== null){\n          affectedChapters.push({key: chapter.id, order: newBaseOrder + affectedChapters.length});\n        }\n        if(chapter.id === id){\n          newBaseOrder = chapter.order;\n        }\n      });\n      await db.chapters.delete(id);\n      affectedChapters.forEach(async (affected) => {\n        await db.chapters.update(affected.key, {'order': affected.order});\n      });\n\n      //TODO remove acts, remove sequenced actions associated to acts, remove end conditions associated to acts\n\n\n\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //-- Acts --//\n  static createNewAct(dispatch, data) {\n    return db.acts.add({'chapter_id': data.chapter_id, 'name': data.name, 'description': data.description, 'order': data.order, 'type': data.type}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateAct(dispatch, key, data) {\n    //do not accept order update\n    return db.acts.update(key, {'name': data.name, 'description': data.description}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateActOrder(dispatch, key, data) {\n    return db.transaction('rw', db.acts, async () => {\n      const affectedAct = await db.acts.where({chapter_id: data.chapter_id, order: data.order}).first();\n      await db.acts.update(key, {'order': data.order});\n      await db.acts.update(affectedAct.id, {'order': data.oldOrder});\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteAct(dispatch, id, chapter_id) {\n    return db.transaction('rw', db.acts, async () => {\n      let newBaseOrder = null;\n      let affectedActs = [];\n      const acts = await db.acts.where('chapter_id').equals(chapter_id).toArray();\n      const orderedActs = acts.sort((a, b) => { return a.order - b.order; });\n      await orderedActs.forEach(act => {\n        if(newBaseOrder !== null){\n          affectedActs.push({key: act.id, order: newBaseOrder + affectedActs.length});\n        }\n        if(act.id === id){\n          newBaseOrder = act.order;\n        }\n      });\n      await db.acts.delete(id);\n      affectedActs.forEach(async (affected) => {\n        await db.acts.update(affected.key, {'order': affected.order});\n      });\n\n      //TODO remove sequenced actions associated to act, remove end conditions associated to act\n\n\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //---------------------------------------//\n  //-------------- Actions ----------------//\n  //---------------------------------------//\n\n  //-- Sequenced Actions --//\n  static createNewSequencedAction(dispatch, data) {\n    return db.sequenced_actions.add({'act_id': data.actId, 'order': data.order, 'text_value': data.textValue, 'type': data.type, 'character_id': data.characterId}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateSequencedAction(dispatch, key, data) {\n    //do not accept order update\n    return db.sequenced_actions.update(key, {'text_value': data.textValue, 'type': data.type, 'character_id': data.characterId}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateSequencedActionOrder(dispatch, key, data) {\n    return db.transaction('rw', db.sequenced_actions, async () => {\n      const affectedSequencedAction = await db.sequenced_actions.where({act_id: data.actId, order: data.order}).first();\n      await db.sequenced_actions.update(key, {'order': data.order});\n      await db.sequenced_actions.update(affectedSequencedAction.id, {'order': data.oldOrder});\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteSequencedAction(dispatch, id, actId) {\n    return db.transaction('rw', db.sequenced_actions, async () => {\n      let newBaseOrder = null;\n      let affectedSequencedActions = [];\n      const sequencedActions = await db.sequenced_actions.where('act_id').equals(actId).toArray();\n      const orderedSequencedActions = sequencedActions.sort((a, b) => { return a.order - b.order; });\n      await orderedSequencedActions.forEach(action => {\n        if(newBaseOrder !== null){\n          affectedSequencedActions.push({key: action.id, order: newBaseOrder + affectedSequencedActions.length});\n        }\n        if(action.id === id){\n          newBaseOrder = action.order;\n        }\n      });\n      await db.sequenced_actions.delete(id);\n      affectedSequencedActions.forEach(async (affected) => {\n        await db.sequenced_actions.update(affected.key, {'order': affected.order});\n      });\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //-- No-Effect Actions --//\n  static createNewNoEffectAction(dispatch, data) {\n    return db.game_actions.add({'type': 'noeff', 'description': data.description, 'required_condition': data.requiredCondition, 'allow_repeat': data.allowRepeat}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateNoEffectAction(dispatch, key, data) {\n    return db.game_actions.update(key, {'type': 'noeff', 'description': data.description, 'required_condition': data.requiredCondition, 'allow_repeat': data.allowRepeat}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteNoEffectAction(dispatch, id) {\n    return db.game_actions.delete(id).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //-- Conversations --//\n  static createNewConversation(dispatch, data) {\n    return db.conversations.add({'name': data.name, 'characters': ''}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateConversation(dispatch, key, data) {\n    return db.conversations.update(key, {'name': data.name}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateConversationCharacters(dispatch, key, data) {\n    return db.conversations.update(key, {'characters': data.characters}).then(() => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteConversation(dispatch, id) {\n    return db.transaction('rw', db.conversations, db.conversation_dialogs, async () => {\n      await db.conversation_dialogs.where('conversation_id').equals(id).delete();\n      await db.conversations.delete(id);\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static createNewConversationDialog(dispatch, data) {\n    return db.transaction('rw', db.conversations, db.conversation_dialogs, async () => {\n      await db.conversation_dialogs.add({'conversation_id': data.conversationId, 'order': data.order, 'dialog': data.dialog, 'character_id': data.characterId});\n      const dialogs = await db.conversation_dialogs.where('conversation_id').equals(data.conversationId).toArray();\n      await db.conversations.update(data.conversationId, {'characters': AppLogicUtils.rebuildConversationCharacterIds(dialogs)});\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateConversationDialog(dispatch, key, data) {\n    return db.transaction('rw', db.conversations, db.conversation_dialogs, async () => {\n      //do not accept order update\n      await db.conversation_dialogs.update(key, {'dialog': data.dialog, 'character_id': data.characterId});\n      const dialogs = await db.conversation_dialogs.where('conversation_id').equals(data.conversationId).toArray();\n      await db.conversations.update(data.conversationId, {'characters': AppLogicUtils.rebuildConversationCharacterIds(dialogs)});\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static updateConversationDialogOrder(dispatch, key, data) {\n    return db.transaction('rw', db.conversation_dialogs, async () => {\n      const affectedConversationDialog = await db.conversation_dialogs.where({conversation_id: data.conversationId, order: data.order}).first();\n      await db.conversation_dialogs.update(key, {'order': data.order});\n      await db.conversation_dialogs.update(affectedConversationDialog.id, {'order': data.oldOrder});\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  static deleteConversationDialog(dispatch, id, conversationId) {\n    return db.transaction('rw', db.conversations, db.conversation_dialogs, async () => {\n      let newBaseOrder = null;\n      let affectedConversationDialogs = [];\n      const conversationDialogs = await db.conversation_dialogs.where('conversation_id').equals(conversationId).toArray();\n      const orderedConversationDialogs = conversationDialogs.sort((a, b) => { return a.order - b.order; });\n      await orderedConversationDialogs.forEach(dialog => {\n        if(newBaseOrder !== null){\n          affectedConversationDialogs.push({key: dialog.id, order: newBaseOrder + affectedConversationDialogs.length});\n        }\n        if(dialog.id === id){\n          newBaseOrder = dialog.order;\n        }\n      });\n      await db.conversation_dialogs.delete(id);\n      affectedConversationDialogs.forEach(async (affected) => {\n        await db.conversation_dialogs.update(affected.key, {'order': affected.order});\n      });\n      const conversationDialogsAfterRemove = await db.conversation_dialogs.where('conversation_id').equals(conversationId).toArray();\n      await db.conversations.update(conversationId, {'characters': AppLogicUtils.rebuildConversationCharacterIds(conversationDialogsAfterRemove)});\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //---------------------------------------//\n  //------------- Play Mode ---------------//\n  //---------------------------------------//\n  static startNewPlayTestRun(dispatch) {\n    return db.transaction('rw', db.play_game_state_props, db.game_state_props, db.default_entity_colors, db.custom_entity_defs, async () => {\n      //get default and custom colors\n      const defaultColors = await db.default_entity_colors.toArray();\n      const customEntityColors = await db.custom_entity_defs.toArray();\n      //clear play_game_state_props\n      await db.play_game_state_props.clear();\n      //copy all game_state_props to play_game_state_props and set values to defaults and prev to null\n      const gsps = await db.game_state_props.toArray();\n      let playProps = gsps.map(gsp => {\n        return {\n          'game_state_prop_id': gsp.id,\n          'name': gsp.name, \n          'type': gsp.type,\n          'value': gsp.default,\n          'prev_value': null,\n          'color': AppLogicUtils.getPropRelatedColor(gsp.name, gsp.type, defaultColors, customEntityColors),\n        };\n      });\n      await db.play_game_state_props.bulkAdd(playProps);\n    }).then(result => {\n      //\n    }).catch(error => {\n      console.log('||--FAIL', error);\n      //return reject to allow catch chain\n      return Promise.reject(error);\n    });\n  }\n\n  //-- Dev --//\n  static devStartOver(dispatch) {\n    return db.delete().then( () => window.location.reload() );\n  }\n}\n\nexport default AppLogicController;","import Dexie from 'dexie';\n\n\nconst db = new Dexie('RpgspDatabase');\n\ndb.version(1).stores({\n    //config\n    stories: '++id',                                //title, version\n    game_state_props: '++id, name',                 //type, default, edit_mode, removable, default_table, default_tids\n    locations: '++id, name',                        //description, map\n    areas: '++id, location_id, name',               //description, color\n    characters: '++id, name',                       //description, is_pc, color\n    custom_entity_defs: '++id, singular_name',      //name, key, color\n    custom_entities: '++id, custom_entity_def_id, name',  //description\n    default_entity_colors: '++id',                  //name, color\n    //story setup\n    chapters: '++id, order',                        //name, description\n    acts: '++id, order, chapter_id, type',          //name, description\n    sequenced_actions: '++id, act_id, order',       //text_value, type, character_id\n\n    //navigation_actions: '++id',                   //description, effects\n    //interactive_actions: '++id',                  //description, effects\n    //no_effect_actions: '++id',                    //description, effects\n\n    game_actions: '++id, type',                     //description, allow_repeat, required_condition\n\n    //action_associations: '++id', \n\n    conversations: '++id',                          //name, characters\n    conversation_dialogs: '++id, conversation_id, order',  //dialog, character_id\n\n\n    //play-mode\n    play_game_state_props: 'game_state_prop_id, name', //type, value, prev_value, color\n});\n\n//default_entity_colors for: locations, areas, characters\n\n//game_state_props.edit_mode = (string) \"none|all|name|type|default\"\n\n//act.type = (string) \"sequence|interactive\"\n\n//sequenced_action.type = (string) \"description|dialog\"\n\n//game_actions.type = (string) \"nav|noeff|inter\"\n//nav = in navigation tab, must have area change in effects (currentArea)\n//noeff = no effect allowed\n//inter = no area change allowed (currentArea)\n\n//game_actions.required_condition = (json)\n// {\n//    mode: \"simple|complex\",\n//    expressions: [\n//      { gsp_id: (id), compId: (id), value: (multiple), valueDisplay: (string|null)},\n//    ],\n//    logic_func: (object), (for complex only)\n//    display: [{type: 'exp', propName: (string), comp: (string), value: (multiple)}], (single)\n//    display: [{type: 'exp', propName: (string), comp: (string), value: (multiple)}, {type: 'logic', name: (string)}, {type: 'grouping', name: (string)}], (complex)\n// }\n\n//conversations.characters = (string) \"|1|4|9|\" (character ids)\n\n\nexport const testDatabase = () => {\n  return db.open();\n};\n\nexport default db;\n","import db from '../db/AppDatabase';\n\n//Controls data fetch operation (read DB only)\nclass AppDataFetchController {\n\n  //GSP\n  static async fetchGameStateProps() {\n    return db.game_state_props.toArray();\n  }\n\n  static fetchPlayGameStateProps(propNames = null, liveQuery = false) {\n    if(propNames !== null) {\n      const singleProp = propNames.length === 1;\n      if(liveQuery) {\n        if(singleProp) {\n          return () => db.play_game_state_props.where('name').anyOf(propNames).first();\n        } else {\n          return () => db.play_game_state_props.where('name').anyOf(propNames).toArray();\n        }\n      } else {\n        if(singleProp) {\n          return db.play_game_state_props.where('name').anyOf(propNames).first();\n        } else {\n          return db.play_game_state_props.where('name').anyOf(propNames).toArray();\n        }\n      }\n    } else {\n      //all props\n      if(liveQuery) {\n        return () => db.play_game_state_props.toArray();\n      } else {\n        return db.play_game_state_props.toArray();\n      }\n    }\n  }\n\n\n  //fetch all entities per type (location,area,character,custom)\n  static async fetchStoryEntities(type) {\n    if(type === 'location' || type === 'area' || type === 'character') {\n      const tableName = type + 's';\n      if(type === 'location' || type === 'character') {\n        return db[tableName].toArray();\n      } else { //list areas with its location name\n        return db.transaction('r', tableName, 'locations', async () => {\n          const locations = await db.locations.toArray();\n          const areas = await db[tableName].toArray();\n          return areas.map(area => {\n            area.displayName = area.name + ' (' + locations.find(location => location.id === area.location_id).name + ')';\n            return area;\n          });\n        });\n      }\n    } else { //custom entity\n      return db.transaction('r', 'custom_entity_defs', 'custom_entities', async () => {\n        const entityDef = await db.custom_entity_defs.where({singular_name: type}).first();\n        return db.custom_entities.where({custom_entity_def_id: entityDef.id}).toArray();\n      });\n    }\n  }\n\n  //fetch all sequenced acts\n  static async fetchSequencedActs() {\n    return db.acts.where({type: 'sequence'}).toArray();\n  }\n\n  //fetch areas by location\n  static async fetchAreasByLocation(locationId) {\n    return db.areas.where({location_id: locationId}).toArray();\n  }\n\n  //chapters count\n  static async chaptersCount() {\n    return db.chapters.count();\n  }\n\n  //chapter by order\n  static async chapterByOrder(order) {\n    return db.chapters.where('order').equals(order).first();\n  }\n\n  //acts count\n  static async actsByChapterCount(chapter_id) {\n    return db.acts.where('chapter_id').equals(chapter_id).count();\n  }\n\n  //act live\n  static fetchLiveAct(actId) {\n    return () => db.acts.where('id').equals(actId ? actId : -1).first();\n  }\n\n  //chapter live\n  static fetchLiveChapter(chapterId) {\n    return () => db.chapters.where('id').equals(chapterId ? chapterId : -1).first();\n  }\n\n  //act's sequenced actions live\n  static fetchLiveSequencedActionsByAct(actId) {\n    return () => db.sequenced_actions.where('act_id').equals(actId ? actId : -1).toArray();\n  }\n\n\n  //conversations live\n  static fetchLiveConversations(filters) {\n    if(filters.character && filters.character !== -1) {\n      let regex = new RegExp(',' + filters.character + ',');\n      return () => db.conversations.filter(conversation => { return regex.test(conversation.characters); }).toArray();\n    } else {\n      return () => db.conversations.toArray();\n    }\n  }\n\n  //conversation dialogs live\n  static fetchLiveConversationDialogs(conversationId) {\n    return () => db.conversation_dialogs.where('conversation_id').equals(conversationId ? conversationId : -1).toArray();\n  }\n\n  //no-effect actions live\n  static fetchLiveNoEffectActions(filters) {\n    if(filters.character && filters.character !== -1) {\n      //let regex = new RegExp(',' + filters.character + ',');\n      //return () => db.conversations.filter(conversation => { return regex.test(conversation.characters); }).toArray();\n    } else {\n      return () => db.game_actions.where('type').equals('noeff').toArray();\n    }\n  }\n\n}\n\nexport default AppDataFetchController;"],"sourceRoot":""}